function mediaPicker(c){var a;var b;b=jQuery("#"+c).prev().attr("id");if(a){a.open();return}a=wp.media.frames.file_frame=wp.media({title:"Insert Images",button:{text:"Insert Images"},type:"image",multiple:false});a.on("select",function(){var d=a.state().get("selection");d.map(function(e){e=e.toJSON();jQuery("#"+b).val(""+e.url+"").trigger("change");jQuery("#"+b).parent().find(".media-picker-preview, .media-picker-remove").remove();if(e.sizes.medium){jQuery("#"+b).parent().prepend('<img class="media-picker-preview" src="'+e.sizes.medium.url+'" /><i class="fa fa-times media-picker-remove"></i>')}else{jQuery("#"+b).parent().prepend('<img class="media-picker-preview" src="'+e.url+'" /><i class="fa fa-times media-picker-remove"></i>')}});jQuery(".media-picker-remove").on("click",function(f){jQuery(this).parent().find(".media-picker").val("").trigger("change");jQuery(this).parent().find(".media-picker-preview, .media-picker-remove").remove()})});a.open()}jQuery(document).on("ready widget-updated widget-added",function(){jQuery(".media-picker-remove").on("click",function(a){jQuery(this).parent().find(".media-picker").val("").trigger("change");jQuery(this).parent().find(".media-picker-preview, .media-picker-remove").remove()})});